<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <title>yt-dlp</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>


  <!-- Custom styles for this template -->
  <link href="signin.css" rel="stylesheet">
</head>

<body class="text-center">
  <main class="form-signin w-100 m-auto">

    <form action="/api" method="post">
      <img src="icon.png" class="img-fluid" id="logo">
      <div class="form-floating">
        <input type="text" class="form-control" id="URLInput" name="url">
        <label for="URLInput">URL</label>
      </div>

      <div class="form-floating input-group">
        <textarea type="text" class="form-control" id="optsInput" name="opts"></textarea>
        <label for="optsInput">yt-dlp flags</label>
        <button class="btn btn-outline-secondary dropdown-toggle" type="button"
          data-bs-toggle="dropdown">Presets</button>
        <ul class="dropdown-menu dropdown-menu-end">
          <li><a class="dropdown-item" onclick="fill_opts(this)" flags="-x --audio-format mp3">Extract Audio</a></li>
          <li><a class="dropdown-item" onclick="fill_opts(this)" flags="--embed-subs --sub-lang en-US --sub-format 'ass/srt/best'">Write Subs (en-US)</a></li>
          <li><a class="dropdown-item" onclick="fill_opts(this)" flags="--embed-subs --sub-langs all --sub-format 'ass/srt/best'">Write Subs (All)</a></li>
          <li><a class="dropdown-item" onclick="fill_opts(this)" flags="--list-subs">List Sub Formats</a></li>
          <li>
            <hr>
          </li>
          <li><a class="dropdown-item" onclick="fill_opts(this)" flags="">Clear</a></li>
        </ul>
      </div>

      <div class="form-floating">
        <input type="text" class="form-control" id="filenameInput" name="filename">
        <label for="filenameInput">Filename</label>
      </div>

      </div>
      <button class="w-100 btn btn-lg btn-primary" type="submit" id="submit">Run</button>
    </form>
  </main>

  <script>
    function fill_opts(el) {
      console.log(el.innerHTML);
      document.querySelector("#optsInput").value = el.getAttribute("flags");
    } 
  </script>

</body>

</html>